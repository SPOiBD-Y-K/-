# Мини-игра "Пати против Босса"

Текстовая RPG-битва между группой персонажей (пати) и боссом с использованием ООП на Python.

## Описание проекта

Игра реализует пошаговую битву, где группа из трех персонажей (Воин, Маг, Лекарь) сражается против могущественного Босса. Проект демонстрирует принципы ООП, включая наследование, инкапсуляцию, полиморфизм, абстрактные классы, дескрипторы, миксины и итераторы.

## Основные классы

### `BoundedStat`
Дескриптор для валидации числовых характеристик персонажей (HP, MP, сила, ловкость, интеллект) в заданных пределах.

### `Human`
Базовый класс для всех персонажей, содержит основные атрибуты:
- `hp`, `mp`, `strength`, `agility`, `intellect`
- Уровень и имя
- Свойство `is_alive` для проверки жив ли персонаж

### `Character` (абстрактный)
Наследует от `Human`, добавляет:
- Список навыков (`skills`)
- Систему эффектов (`effects`)
- Перезарядку умений (`cooldowns`)
- Абстрактные методы `basic_attack` и `use_skill`

### Классы персонажей:
- **`Warrior`**: Высокий урон и защита, навыки: "Сильный удар", "Защитная стойка", "Размашистый удар"
- **`Mage`**: Магические атаки с эффектами, навыки: "Огненный шар", "Ледяная стрела", "Магический щит"
- **`Healer`**: Лечение и поддержка, навыки: "Лечение", "Сильное лечение", "Божественный щит"

### `Boss`
Особый противник с двумя фазами боя и мощными умениями:
- **Фаза 1**: Обычные атаки и исцеление
- **Фаза 2** (при HP < 30%): Усиленные атаки и призыв помощников

### Система эффектов (`Effect`)
- `BurnEffect`: Наносит периодический урон
- `ShieldEffect`: Увеличивает максимальное HP
- `SlowEffect`: Снижает ловкость

### `Battle`
Основной класс управления битвой:
- Обрабатывает порядок ходов (по ловкости)
- Обновляет эффекты и перезарядку
- Логирует ход битвы
- Сохраняет состояние в JSON

### `BattleLogger`
Контекстный менеджер для записи лога битвы в файл.

## Требования

- Python 3.6+
- Стандартные библиотеки: `random`, `json`, `datetime`, `unittest`

## Инструкция по запуску

1. Скопируйте код в файл `mini_game.py`
2. Запустите командой:
```bash
python mini_game.py

Что произойдет при запуске:
Начнется демо-битва между предсозданными персонажами и боссом
Ход битвы будет выводиться в консоль
Создадутся файлы:
battle_log.txt - полный лог битвы
battle_state.json - состояние игры после битвы
После демо-битвы запустятся автоматические тесты

Запуск тестов
Тесты используют модуль unittest и проверяют:
Создание персонажей
Базовые атаки
Использование навыков
Систему эффектов
Создание битвы

Запуск тестов отдельно:
python -m unittest mini_game.py 

Пример использования:
# Создание персонажей
warrior = Warrior("Боромир", 5)
mage = Mage("Гэндальф", 5)
healer = Healer("Элронд", 5)

# Создание босса
boss = Boss("Саурон", 5)

# Запуск битвы
battle = Battle([warrior, mage, healer], boss, seed=42)
result = battle.start_battle()  # "win" или "lose"

Особенности реализации:
ООП подход: Абстрактные классы, наследование, инкапсуляция
Дескрипторы: Валидация характеристик персонажей
Миксины: Переиспользуемая функциональность (логирование, критические удары)
Итератор: Определение порядка ходов по ловкости
Контекстный менеджер: Для логирования битвы в файл
Сериализация: Сохранение состояния игры в JSON